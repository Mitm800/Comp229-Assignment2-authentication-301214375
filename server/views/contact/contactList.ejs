<!--Mitkumar Malavia, 301214375, 29/10/2021-->

<head>
    <title>
        <%= title %>
    </title>
    <link rel='stylesheet' href='/Content/stylesheets/style.css' />
    <link rel="stylesheet" href="/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/@fortawesome/fontawesome-free/css/all.min.css">
</head>
<!--Contact Info Display page. Add, edit ad delete operations are only allowed if logged in.-->

<body>
    <header>
        <%- include('../components/header.ejs'); %>
    </header>
    <main class='container'>
        <div class='row'>
            <div class='offset-md-1 col-md-10'>
                <h1>
                    <%= title %>
                </h1>
                <% if(typeof displayName == 'string' && displayName) { %>
                    <a href="/contactList/add" class="btn btn-primary" role="button">
                        <i class="fas fa-plus-circle"></i>Add a Contact</a>
                    <% } %>

                        <br>
                        <table class="table">
                            <thead class="thead-dark">
                                <tr>
                                    <% if(typeof displayName == 'string' && displayName) { %>
                                        <th scope="col">Name</th>
                                        <th scope="col">Phone</th>
                                        <th scope="col">E-mail</th>
                                        <th scope="col"></th>
                                        <th scope="col"></th>
                                        <% } else { %>
                                            <th scope="col">Name</th>
                                            <th scope="col">Phone</th>
                                            <th scope="col">E-mail</th>
                                            <% } %>
                                </tr>
                            </thead>
                            <tbody>
                                <% for( let counter = 0; counter < contactList.length; counter++ ) { %>
                                    <tr>
                                        <% if(typeof displayName == 'string' && displayName) { %>
                                            <td>
                                                <%= contactList[counter].name %>
                                            </td>
                                            <td>
                                                <%= contactList[counter].number %>
                                            </td>
                                            <td>
                                                <%= contactList[counter].email %>
                                            </td>
                                            <td>
                                                <a href="/contactList/edit/<%= contactList[counter]._id%>" class="btn btn-primary btn-sm">
                                                    <i class="fas fa-pencil-alt"></i>Edit</a>
                                            </td>
                                            <td>
                                                <a href="/contactList/delete/<%= contactList[counter]._id%>" class="btn btn-danger btn-sm">
                                                    <i class="fas fa-pencil-alt"></i>Delete</a>
                                            </td>
                                            <% } else { %>
                                                <td>
                                                    <%= contactList[counter].name %>
                                                </td>
                                                <td>
                                                    <%= contactList[counter].number %>
                                                </td>
                                                <td>
                                                    <%= contactList[counter].email %>
                                                </td>
                                                <% } %>
                                    </tr>
                                    <% } %>
                            </tbody>
                        </table>
            </div>
        </div>
    </main>
    <header>
        <%- include('../components/footer.ejs'); %>
    </header>
</body>